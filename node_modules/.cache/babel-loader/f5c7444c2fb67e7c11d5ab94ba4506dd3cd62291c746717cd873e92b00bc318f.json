{"ast":null,"code":"import _slicedToArray from\"/Users/amananand/Downloads/Personal Bookshelf/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{toast}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookshelfPage=function BookshelfPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bookshelf=_useState2[0],setBookshelf=_useState2[1];useEffect(function(){var savedBooks=JSON.parse(localStorage.getItem('bookshelf'))||[];setBookshelf(savedBooks);},[]);var removeFromBookshelf=function removeFromBookshelf(bookKey){toast.error(\"Book Removed form List\");var updatedBookshelf=bookshelf.filter(function(book){return book.key!==bookKey;});setBookshelf(updatedBookshelf);localStorage.setItem('bookshelf',JSON.stringify(updatedBookshelf));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4 \",children:\"My Bookshelf\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:bookshelf.map(function(book){var _book$author_name;var coverUrl=book.cover_edition_key?\"https://covers.openlibrary.org/b/olid/\".concat(book.cover_edition_key,\"-M.jpg\"):'https://via.placeholder.com/150';// Placeholder image if no cover is available\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border border-gray-300 rounded-md mb-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:coverUrl,alt:book.title,className:\"w-24 h-36 mr-4\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:book.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:((_book$author_name=book.author_name)===null||_book$author_name===void 0?void 0:_book$author_name.join(', '))||'Unknown Author'})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeFromBookshelf(book.key);},className:\"ml-4 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\",children:\"Remove\"})]},book.key);})})]});};export default BookshelfPage;","map":{"version":3,"names":["React","useEffect","useState","toast","jsx","_jsx","jsxs","_jsxs","BookshelfPage","_useState","_useState2","_slicedToArray","bookshelf","setBookshelf","savedBooks","JSON","parse","localStorage","getItem","removeFromBookshelf","bookKey","error","updatedBookshelf","filter","book","key","setItem","stringify","children","className","map","_book$author_name","coverUrl","cover_edition_key","concat","src","alt","title","author_name","join","onClick"],"sources":["/Users/amananand/Downloads/Personal Bookshelf/src/components/BookshelfPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { toast } from 'react-hot-toast';\nconst BookshelfPage = () => {\n  const [bookshelf, setBookshelf] = useState([]);\n\n  useEffect(() => {\n    const savedBooks = JSON.parse(localStorage.getItem('bookshelf')) || [];\n    setBookshelf(savedBooks);\n  }, []);\n\n  const removeFromBookshelf = (bookKey) => {\n    toast.error(\"Book Removed form List\");\n    const updatedBookshelf = bookshelf.filter(book => book.key !== bookKey);\n    setBookshelf(updatedBookshelf);\n    localStorage.setItem('bookshelf', JSON.stringify(updatedBookshelf));\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold mb-4 \">My Bookshelf</h2>\n      <div className=\"flex flex-col\">\n        {bookshelf.map((book) => {\n          const coverUrl = book.cover_edition_key\n            ? `https://covers.openlibrary.org/b/olid/${book.cover_edition_key}-M.jpg`\n            : 'https://via.placeholder.com/150'; // Placeholder image if no cover is available\n\n          return (\n            <div key={book.key} className=\"p-4 border border-gray-300 rounded-md mb-4 flex justify-between items-center\">\n              <div className=\"flex\">\n                <img src={coverUrl} alt={book.title} className=\"w-24 h-36 mr-4\" />\n                <div>\n                  <h3 className=\"text-lg font-semibold\">{book.title}</h3>\n                  <p className=\"text-gray-600\">{book.author_name?.join(', ') || 'Unknown Author'}</p>\n                </div>\n              </div>\n              <button\n                onClick={() => removeFromBookshelf(book.key)}\n                className=\"ml-4 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\"\n              >\n                Remove\n              </button>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default BookshelfPage;\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,KAAK,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACxC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,IAAAC,SAAA,CAAkCP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9BT,SAAS,CAAC,UAAM,CACd,GAAM,CAAAa,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CACtEL,YAAY,CAACC,UAAU,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAK,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,OAAO,CAAK,CACvCjB,KAAK,CAACkB,KAAK,CAAC,wBAAwB,CAAC,CACrC,GAAM,CAAAC,gBAAgB,CAAGV,SAAS,CAACW,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,GAAG,GAAKL,OAAO,GAAC,CACvEP,YAAY,CAACS,gBAAgB,CAAC,CAC9BL,YAAY,CAACS,OAAO,CAAC,WAAW,CAAEX,IAAI,CAACY,SAAS,CAACL,gBAAgB,CAAC,CAAC,CACrE,CAAC,CAED,mBACEf,KAAA,QAAAqB,QAAA,eACEvB,IAAA,OAAIwB,SAAS,CAAC,0BAA0B,CAAAD,QAAA,CAAC,cAAY,EAAK,cAC1DvB,IAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAD,QAAA,CAC3BhB,SAAS,CAACkB,GAAG,CAAC,SAACN,IAAI,CAAK,KAAAO,iBAAA,CACvB,GAAM,CAAAC,QAAQ,CAAGR,IAAI,CAACS,iBAAiB,0CAAAC,MAAA,CACMV,IAAI,CAACS,iBAAiB,WAC/D,iCAAiC,CAAE;AAEvC,mBACE1B,KAAA,QAAoBsB,SAAS,CAAC,8EAA8E,CAAAD,QAAA,eAC1GrB,KAAA,QAAKsB,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBvB,IAAA,QAAK8B,GAAG,CAAEH,QAAS,CAACI,GAAG,CAAEZ,IAAI,CAACa,KAAM,CAACR,SAAS,CAAC,gBAAgB,EAAG,cAClEtB,KAAA,QAAAqB,QAAA,eACEvB,IAAA,OAAIwB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAEJ,IAAI,CAACa,KAAK,EAAM,cACvDhC,IAAA,MAAGwB,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAE,EAAAG,iBAAA,CAAAP,IAAI,CAACc,WAAW,UAAAP,iBAAA,iBAAhBA,iBAAA,CAAkBQ,IAAI,CAAC,IAAI,CAAC,GAAI,gBAAgB,EAAK,GAC/E,GACF,cACNlC,IAAA,WACEmC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAArB,mBAAmB,CAACK,IAAI,CAACC,GAAG,CAAC,EAAC,CAC7CI,SAAS,CAAC,kEAAkE,CAAAD,QAAA,CAC7E,QAED,EAAS,GAbDJ,IAAI,CAACC,GAAG,CAcZ,CAEV,CAAC,CAAC,EACE,GACF,CAEV,CAAC,CAED,cAAe,CAAAjB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}